services:

  # Run unit tests
  unit-tests:
    image: golang:1.25.2-alpine
    working_dir: /project
    command:
      - /bin/sh
      - -c
      - |
        echo "ğŸ§ª Running unit tests"

        go mod download
        if go test -v > ./reports/test-output.txt; then
          echo "âœ… Tests completed"
          echo "ğŸ“„ Test report generated at ./reports/test-output.txt"
          go test -cover > ./reports/test-coverage.txt
          exit 0
        else
          echo "âŒ Tests failed"
          exit 1
        fi

    volumes:
      - ./:/project

